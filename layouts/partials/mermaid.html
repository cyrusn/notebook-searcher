<!-- mermaid.js should be placed in footer -->
{{ if .Params.mermaid }}
<script src='{{"/js/mermaid.min.js" | relURL}}'></script>
<script>
  /* global mermaid */

  // parsing option
  const config = {}

  const defaultConfig = {
    startOnLoad: true
  }

  const obj = Object.assign({}, defaultConfig, {{ .Site.Params.mermaidOption }}, {{ .Params.mermaidOption }})

  for (const key in obj) {
    config[dashToCamelCase(key)] = obj[key]
  }

  mermaid.initialize(config)
</script>
{{ end }}
