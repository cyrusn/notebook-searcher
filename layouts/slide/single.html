<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <!-- RemarkJS (for slide view) -->
  <link rel="stylesheet" href="{{"/css/remark.css"|relURL}}">
  <script src='{{ "/js/remark-latest.min.js" | relURL }}'></script>

</head>
<body>
  <textarea id="source">{{ .RawContent }}</textarea>
  </script>
  {{ partial "katex.html" . }}
  <script>
    const option = {}
    const obj = Object.assign({}, {{ .Site.Params.RemarkOption }}, {{ .Params.RemarkOption }})
    function dashToCamelCase (word) {
      return word.split("-").map((arr, n) =>
        ( n === 0 ) ? arr : (arr[0].toUpperCase() + arr.slice(1))
        ).join("")
    }
    for (const key in obj) {
      option[dashToCamelCase(key)] = obj[key]
    }
    {{ if .Params.katex }}
    const slideshow = remark.create(option, renderMath)
    {{ else }}
    const slideshow = remark.create(option)
    {{ end }}
    document.onkeypress = ({which, keyCode} = window.event) => {
      const charCode = (typeof which == "number") ? which : keyCode;
      if (charCode == 113) {
        window.location.href = '/'
      }
    };
    Array.from(document.getElementsByTagName("a"))
    .forEach(a => a.setAttribute('target', '_blank'))
  </script>
</body>
